(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{44:function(e,t,n){},45:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(20),r=n.n(c),o=(n(44),n(45),n(4)),s=n(13),i=n(5),l=n(11),u=n.n(l),d=n(15),j="GET_RECETAS",b="GET_RECETAS_POR_NOMBRE",p="GET_TIPOS_DE_DIETA",O="FILTRAR_POR_TIPO_DE_DIETA",h="ORDENAR_POR_NOMBRE",v="ORDER_BY_ATTACK",m="GET_DETAIL",f="RESET_DETAIL",x="POST_POKEMON",_=n(16),g=n.n(_);function y(){return function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("http://localhost:3001/recipes");case 2:return n=e.sent,e.abrupt("return",t({type:j,payload:n.data}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}var R=function(){return function(){var e=Object(d.a)(u.a.mark((function e(t){var n,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("http://localhost:3001/types");case 3:return n=e.sent,a=n.data,e.abrupt("return",t({type:p,payload:a}));case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},E=function(){return{type:f}},C=n(0);function D(e){var t=e.nombre,n=e.imagen,a=e.dieta,c=e.id,r=e.puntuacion,s=Object(o.f)();return Object(C.jsxs)("div",{children:[Object(C.jsx)("img",{src:n,alt:"No Se encontro la imagen"}),Object(C.jsx)("div",{children:Object(C.jsx)("label",{children:t})}),Object(C.jsx)("div",{children:Object(C.jsxs)("label",{children:["puntuacion:",r]})}),Object(C.jsxs)("div",{children:[Object(C.jsx)("h4",{children:"Tipo de dieta"}),Array.isArray(a)?a.map((function(e){return e.name?Object(C.jsx)("label",{children:e.name}):Object(C.jsxs)("label",{children:[e," "]})})):""]}),Object(C.jsx)("button",{onClick:function(e){e.preventDefault(),s.push("/detalles/".concat(c))},children:"Ver M\xe1s"})]})}function S(e){var t=e.setPage,n=Object(a.useState)(""),c=Object(s.a)(n,2),r=c[0],o=c[1],l=Object(i.b)();return Object(C.jsxs)("form",{onSubmit:function(e){var n;e.preventDefault(),l((n=r,function(){var e=Object(d.a)(u.a.mark((function e(t){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get("http://localhost:3001/recipes?name="+n);case 3:return 0===(a=e.sent).length&&console.log(a,"entro al if"),e.abrupt("return",t({type:b,payload:a.data}));case 8:e.prev=8,e.t0=e.catch(0),console.log(alert("No existe esa receta "));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())),o(""),t(1)},children:[Object(C.jsx)("input",{type:"text",placeholder:"Buscar Receta...",value:r,onChange:function(e){e.preventDefault(),o(e.target.value),console.log(r)}}),Object(C.jsx)("button",{type:"submit",children:"Buscar"})]})}function T(){var e=Object(o.f)(),t=Object(i.b)();Object(a.useEffect)((function(){t(y())}),[t]),Object(a.useEffect)((function(){t(R())}),[t]);var n=Object(i.c)((function(e){return e.recetas})),c=Object(i.c)((function(e){return e.dietas}));console.log(n,"Todas Las Recetas");for(var r=Object(a.useState)(""),l=Object(s.a)(r,2)[1],u=Object(a.useState)(1),d=Object(s.a)(u,2),j=d[0],b=d[1],p=9*j,m=p-9,f=n.slice(m,p),x=[],_=1;_<=Math.ceil(n.length/9);_++)x.push(_);function g(e){var n;t((n=e.target.value,console.log(n),{type:O,payload:n}))}return Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{onClick:function(e){!function(e){e.preventDefault(),t(y())}(e)},className:"elementNB",children:"Recargar Recetas"}),Object(C.jsx)("button",{onClick:function(t){t.preventDefault(),e.push("/crearReceta")},className:"elementNB",children:"Crear Receta"}),Object(C.jsxs)("select",{on:!0,onChange:function(e){var n;e.preventDefault(),t((n=e.target.value,{type:h,payload:n})),b(1),l("Ordenado ".concat(e.target.value))},children:[Object(C.jsx)("option",{value:"default",className:"elementNB",hidden:!0,children:"Ordenar Recetas por Nombre"}),Object(C.jsx)("option",{value:"ASC",children:"A-Z"}),Object(C.jsx)("option",{value:"DESC",children:"Z-A"})]}),Object(C.jsxs)("select",{onChange:function(e){var n;e.preventDefault(),t((n=e.target.value,{type:v,payload:n})),b(1),l("Ordenado ".concat(e.target.value))},children:[Object(C.jsx)("option",{value:"default",className:"elementNB",hidden:!0,children:"Ordenar recetas por Puntuacion"}),Object(C.jsx)("option",{value:"ASC",children:" Menor valor"}),Object(C.jsx)("option",{value:"DESC",children:" Mayor valor"})]}),Object(C.jsxs)("select",{onChange:function(e){return g(e)},children:[Object(C.jsx)("option",{value:"all",children:"All"}),null===c||void 0===c?void 0:c.map((function(e){return Object(C.jsx)("option",{value:e.name,children:e.name},e.id)}))]}),Object(C.jsx)(S,{setPage:b})]}),Object(C.jsx)("div",{children:null===f||void 0===f?void 0:f.map((function(e){return Object(C.jsx)("div",{children:Object(C.jsx)(D,{nombre:e.nombre,imagen:e.imagen,id:e.id,dieta:e.dieta,puntuacion:e.puntuacion},e.id)})}))}),Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{onClick:function(){j>0&&b(j+1)},children:"Pagina Anterior"}),Object(C.jsx)("button",{onClick:function(){j===x.length?(b(1),console.log("entro al if de  pagina siguiente")):b(j+1)},children:"Pagina Siguiente"})]})]})}function A(e){var t=e.name,n=e.data;return Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"".concat(t,": ")}),Object(C.jsx)("label",{children:n})]})}function N(){var e=Object(i.b)(),t=Object(o.f)(),n=Object(o.g)().id;Object(a.useEffect)((function(){return e(function(e){return function(){var t=Object(d.a)(u.a.mark((function t(n){var a,c;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.get("http://localhost:3001/recipes/".concat(e));case 3:return a=t.sent,c=a.data,t.abrupt("return",n({type:m,payload:c}));case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(n)),function(){e(E())}}),[e,n]);var c=Object(i.c)((function(e){return e.detalles}));return console.log(c[0]),Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{onClick:function(n){n.preventDefault(),e(E()),t.push("/home")},children:"Volver"}),Object.keys(c).length>0?Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:Object(C.jsx)("img",{src:c[0].imagen,alt:"imagen no encotrada"})}),Object(C.jsxs)("div",{children:[Object(C.jsx)("li",{children:Object(C.jsx)(A,{name:"Id",data:c[0].id})}),Object(C.jsx)("li",{children:Object(C.jsx)(A,{name:"Nombre",data:(c[0].nombre,c[0].nombre)})}),Object(C.jsx)("li",{children:Object(C.jsx)(A,{name:"Dietas",data:Array.isArray(c[0].dieta)?c[0].dieta.map((function(e){return e.name?Object(C.jsxs)("label",{children:[" ",e.name," * "]}):Object(C.jsxs)("label",{children:[" ",e," * "]})})):c[0].dieta})}),Object(C.jsx)("li",{children:Object(C.jsx)(A,{name:"Resumen",data:c[0].resumen})}),Object(C.jsx)("li",{children:Object(C.jsx)(A,{name:"Puntuacion",data:c[0].puntuacion})}),Object(C.jsx)("li",{children:Object(C.jsx)(A,{name:"Nivel de comida saludable",data:c[0].nivel_de_comida_saludable})}),Object(C.jsx)("li",{children:Object(C.jsx)(A,{name:"Instrucciones",data:c[0].paso_a_paso})})]})]}):Object(C.jsx)("p",{children:"Espere.."})]})}var k=n(39),w=n(19),L=n(3);var I=function(e){var t=e.name,n=e.type,a=e.value,c=e.handle_function,r=e.error_control;return Object(C.jsxs)("div",{children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"".concat(t,": ")}),Object(C.jsx)("input",{type:n,value:a,name:t.toLowerCase(),onChange:c})]}),r[t.toLowerCase()]&&Object(C.jsx)("p",{children:r[t.toLowerCase()]})]})};function P(){var e=Object(i.b)(),t=Object(o.f)(),n=Object(i.c)((function(e){return e.dietas})),c=Object(i.c)((function(e){return e.recetas})),r=Object(a.useState)({}),l=Object(s.a)(r,2),j=l[0],b=l[1],p=Object(a.useState)({nombre:"",resumen:"",puntuacion:"",nivel_de_comida_saludable:"",imagen:"",paso_a_paso:"",dieta:[]}),O=Object(s.a)(p,2),h=O[0],v=O[1];Object(a.useEffect)((function(){e(R())}),[e]),Object(a.useEffect)((function(){0===c.length&&e(y())}),[e,c.length]);var m=c.map((function(e){return e.nombre}));console.log(m);function f(e){console.log(e.target.value),e.preventDefault(),v(Object(L.a)(Object(L.a)({},h),{},Object(w.a)({},e.target.name,e.target.value))),b(function(e){var t={};return e.nombre||(t.nombre="Nombre requerido"),e.puntuacion<0&&(t.puntuacion="puntuacion No puede ser negativo"),e.nivel_de_comida_saludable<0&&(t.nivel_de_comida_saludable="nivel_de_comida_saludable No puede ser negativo"),0===e.dieta.length&&(t.dieta="Dieta es requerido "),""===e.imagen||/^(ftp|http|https):\/\/[^ "]+$/.test(e.imagen)||(t.imagen="Image must be a URL"),e.paso_a_paso?e.paso_a_paso.length<10&&(t.paso_a_paso="The instructions must have more than 30 characters"):t.paso_a_paso="The instructions of the recipe is required",t}(Object(L.a)(Object(L.a)({},h),{},Object(w.a)({},e.target.name,e.target.value))))}function _(e){e.preventDefault(),console.log("hadle_type_btn tiene..",e.target.value),v(Object(L.a)(Object(L.a)({},h),{},{dieta:h.dieta.filter((function(t){return t!==e.target.value}))}))}return Object(C.jsxs)("div",{children:[Object(C.jsx)("button",{onClick:function(e){e.preventDefault(),t.push("/home")},children:"Volver"}),Object(C.jsxs)("form",{children:[Object(C.jsx)(I,{name:"nombre",type:"text",value:h.nombre,handle_function:f,error_control:j}),Object(C.jsx)(I,{name:"Imagen",type:"url",value:h.imagen,handle_function:f,error_control:j}),Object(C.jsx)(I,{name:"Resumen",type:"text",value:h.resumen,handle_function:f,error_control:j}),Object(C.jsx)(I,{name:"paso_a_paso",type:"text",value:h.paso_a_paso,handle_function:f,error_control:j}),Object(C.jsx)(I,{name:"Puntuacion",type:"number",value:h.puntuacion,handle_function:f,error_control:j}),Object(C.jsx)(I,{name:"nivel_de_comida_saludable",type:"number",value:h.nivel_de_comida_saludable,handle_function:f,error_control:j}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Dietas: "}),Object(C.jsxs)("select",{onChange:function(e){v(Object(L.a)(Object(L.a)({},h),{},{dieta:h.dieta.includes(e.target.value)?h.dieta:[].concat(Object(k.a)(h.dieta),[e.target.value])}))},children:[Object(C.jsx)("option",{}),n.map((function(e){return Object(C.jsx)("option",{value:e.name,children:e.name},e.id)}))]})]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("label",{children:"Dietas Seleccionadas : "}),j.types&&Object(C.jsx)("p",{children:j.types}),h.dieta.map((function(e){return Object(C.jsxs)("button",{onClick:_,value:e,children:[" Remover ",e,"  "]},e)}))]}),Object(C.jsx)("button",{type:"submit",onClick:function(n){if(n.preventDefault(),0===h.dieta.length&&alert("Seleccione Un Tipo De Dieta"),0===h.nombre.length&&alert("Rellene todos los campos"),0===h.resumen.length&&alert("Rellene todos los campos"),0===h.puntuacion.length&&alert("Rellene todos los campos"),0===h.nivel_de_comida_saludable.length&&alert("Rellene todos los campos"),0===h.paso_a_paso.length)alert("Rellene todos los campos");else if(h.nombre.length>0){var a=h.nombre.toLowerCase(),c=m.includes(a);console.log(c,a),!0===c?(alert("Ese Nombre Ya esta En Uso"),v({nombre:"",resumen:"",puntuacion:"",nivel_de_comida_saludable:"",imagen:"",paso_a_paso:"",dieta:[]})):(e((r=h,function(){var e=Object(d.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("http://localhost:3001/recipes",r);case 3:return n=e.sent,e.abrupt("return",t({type:x,payload:n.data}));case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),t.push("/home"),alert("Receta Creada Con Exito"),v({nombre:"",resumen:"",puntuacion:"",nivel_de_comida_saludable:"",imagen:"",paso_a_paso:"",dieta:[]}))}var r},children:"Crear Receta"})]})]})}var B=function(){var e=Object(o.f)();return Object(C.jsxs)("div",{children:[Object(C.jsx)("div",{children:Object(C.jsx)("label",{children:"RECETARIO ONLINE"})}),Object(C.jsx)("div",{children:Object(C.jsx)("button",{onClick:function(t){t.preventDefault(),e.push("/home")},children:"Inicio"})})]})};var M=function(){return Object(C.jsxs)(o.c,{children:[Object(C.jsx)(o.a,{exat:!0,path:"/detalles/:id",component:N}),Object(C.jsx)(o.a,{exat:!0,path:"/home",component:T}),Object(C.jsx)(o.a,{exat:!0,path:"/crearReceta",component:P}),Object(C.jsx)(o.a,{path:"/",component:B})]})},G=n(12),q=n(22),U=n(37),V=n(38),J={recetas:[],todasLasRecetas:[],dietas:[],detalles:{}};var K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(L.a)(Object(L.a)({},e),{},{recetas:t.payload,todasLasRecetas:t.payload});case b:return Object(L.a)(Object(L.a)({},e),{},{recetas:t.payload});case p:return Object(L.a)(Object(L.a)({},e),{},{dietas:t.payload});case x:return Object(L.a)({},e);case m:return Object(L.a)(Object(L.a)({},e),{},{detalles:t.payload});case f:return Object(L.a)(Object(L.a)({},e),{},{detalles:{}});case O:var n=e.todasLasRecetas;return n=n.filter((function(e){return e.dieta.includes(t.payload)})),Object(L.a)(Object(L.a)({},e),{},{recetas:"all"===t.payload?e.todasLasRecetas:n});case h:var a;return a="ASC"===t.payload?e.recetas.sort((function(e,t){return e.nombre>t.nombre?1:e.nombre<t.nombre?-1:0})):"DESC"===t.payload?e.recetas.sort((function(e,t){return e.nombre>t.nombre?-1:e.nombre<t.nombre?1:0})):e.todasLasRecetas,Object(L.a)(Object(L.a)({},e),{},{recetas:a});case v:var c;return c="ASC"===t.payload?e.recetas.sort((function(e,t){return e.puntuacion>t.puntuacion?1:e.puntuacion<t.puntuacion?-1:0})):"DESC"===t.payload?e.recetas.sort((function(e,t){return e.puntuacion>t.puntuacion?-1:e.puntuacion<t.puntuacion?1:0})):e.todasLasRecetas,Object(L.a)(Object(L.a)({},e),{},{recetas:c});default:return e}},Y=Object(q.createStore)(K,Object(V.composeWithDevTools)(Object(q.applyMiddleware)(U.a)));r.a.render(Object(C.jsx)(i.a,{store:Y,children:Object(C.jsx)(G.a,{children:Object(C.jsx)(M,{})})}),document.getElementById("root"))}},[[76,1,2]]]);
//# sourceMappingURL=main.4d0812be.chunk.js.map